[{"name": "app.py", "content": "##written by Johanna Bergmann\n\nfrom shiny import App, render, ui\n\n\napp_ui = ui.page_fluid(\n    \n    {\"style\": \"background-color: rgba(0, 128, 255, 0.1)\"},\n    ui.tags.style(\n        \"\"\"\n        body {\n            font-family: Arial\n            }\n        \"\"\"\n    ),\n    \n    # ui.panel_title(\"A basic absolute panel example\", \"Demo\"),\n    ui.panel_absolute(\n        \n        ui.panel_well(\n        #     \"Drag me around!\", ui.input_slider(\"n\", \"N\", min=0, max=100, value=20)\n        # ),\n        \n        ui.h2(\"Property deal calculator test\"),\n        # ui.input_slider(\"pp\", \"Purchase price\", 0, 1000000, 10),\n        ui.input_numeric(\"pp\", \"Property price\", value=80000),\n        ui.input_numeric(\"mv\", \"Market value\", value=100000),\n        ui.h4(\"Deal breakdown\"),\n        ui.output_text(\"pp_txt\"),\n        ui.output_text(\"mv_txt\"),\n        ui.output_text(\"bmv_txt\"),\n        \n        draggable=False,\n        width=\"300px\",\n        right=\"50px\",\n        top=\"50%\",\n            )\n        )\n    \n\n)\n\n\n\ndef server(input, output, session):\n    @output\n    @render.text\n    def pp_txt():\n        \n        if input.pp() is None:\n           return \"Purchase price is missing\" \n        else:\n            return f\"Purchase price: {input.pp(): ,} GBP\" \n    \n    @output\n    @render.text\n    def mv_txt():\n        \n        if input.mv() is None:\n           return \"Market value is missing\" \n        else:\n            return f\"Market value: {input.mv(): ,} GBP\" \n    \n    @output\n    @render.text\n    def bmv_txt():\n        # if input.pp() is None:\n           \n        #     return \"BMV cannot be computed due to missing value(s)\" \n        \n        # else: \n        #     BMV=round((1 - input.pp() / input.mv()) * 100, 2)\n        #     # BMV = ui.tags(str(tmp), style=\"color: red;\")\n        #     return f\"BMV: {BMV}%\"  \n\n        if input.pp() and input.mv() :\n            \n            BMV=round((1 - input.pp() / input.mv()) * 100, 2)\n            # BMV = ui.tags(str(tmp), style=\"color: red;\")\n            return f\"BMV: {BMV}%\" \n        \n        else: \n            return \"BMV cannot be computed due to missing value(s)\" \n\n\napp = App(app_ui, server)\n", "type": "text"}]